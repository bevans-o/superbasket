import { THRESHOLDS } from '@/scripts/constants.js';

export default function Item({item, active}: any) {

    var ratingLevel = item.starrating > 4 ? 
        "item__rating--high" : 
        item.starrating > 2 ? 
        "item__rating--medium" :
        "item__rating--low";

    return (
        <div className="item panel" data-selected={active ? "true" : "false"}>
            <div className="item__image">
                <img src={item.image}></img>
            </div>
            <h3 className="item__name">{item.name}</h3>
            <div className="item__price">${item.price.toFixed(2)}</div>
            <div className="item__quantity">{item.quantity > 1 ? `${item.quantity} items` : `${item.quantity} item`}</div>
            {item.starrating != 0 && item.starrating != null && 
                <div className={`item__rating ${ratingLevel}`}></div>}

            <div className="item__badges">
                {item.nutInfo?.sodium > THRESHOLDS.SODIUM && <div className="item__badge item__badge--bad">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M480 963.131q-130.981 0-223.056-91.898Q164.869 779.336 164.869 648h630.262q0 131.587-92.075 223.359Q610.981 963.131 480 963.131ZM198.513 581.152q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.427 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717Zm185.261 0q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.427 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717Zm192.478 0q-14.709 0-25.426-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.464-10.717 25.174-10.717 14.709 0 25.426 10.465 10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.464 10.717-25.174 10.717Zm185.74 0q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.426 10.465q10.718 10.464 10.718 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717ZM285.383 481.087q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.426 10.465q10.718 10.465 10.718 25.174t-10.465 25.427q-10.465 10.717-25.174 10.717Zm197.739 0q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.427 10.465q10.717 10.465 10.717 25.174t-10.465 25.427q-10.465 10.717-25.174 10.717Zm190.13 2.391q-14.709 0-25.426-10.465-10.717-10.464-10.717-25.174 0-14.709 10.465-25.426 10.465-10.717 25.174-10.717t25.426 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717ZM384.013 381.5q-14.709 0-25.426-10.465-10.717-10.465-10.717-25.174t10.464-25.426q10.465-10.718 25.174-10.718t25.427 10.465q10.717 10.465 10.717 25.174t-10.465 25.427Q398.722 381.5 384.013 381.5Zm193.479 0q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.426 10.465q10.717 10.465 10.717 25.174t-10.464 25.427Q592.201 381.5 577.492 381.5Zm-97.239-100.783q-14.71 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.717 25.173-10.717 14.71 0 25.427 10.465 10.717 10.464 10.717 25.173 0 14.709-10.465 25.427-10.465 10.717-25.173 10.717Z"/></svg>                    
                    <p>{item.nutInfo?.sodium}mg of sodium</p>
                </div>}

                {item.nutInfo?.fat > THRESHOLDS.FAT && <div className="item__badge item__badge--bad">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M44.587 698q0-58.1 24.5-101.8 24.5-43.7 64.906-72.7 40.406-29 91.5-43.25T328.587 466q52 0 103.094 14.25 51.093 14.25 91.382 43.35t64.906 72.45Q612.587 639.4 612.587 698h-568Zm647 315.41V698q0-124.543-77.533-204.543-77.532-80-195.358-99.022l-11.718-112.848h207.239v-141h86.413v141h214.783L832.27 957.048q-4.052 23.452-21.634 39.909-17.582 16.453-41.291 16.453h-77.758Zm-647-157.823v-84.174h568v84.174h-568Zm41.826 157.823q-18.063 0-29.945-11.88-11.881-11.88-11.881-29.943V929h568v42.587q0 18.063-11.762 29.943-11.762 11.88-29.825 11.88H86.413Z"/></svg>
                    <p>{item.nutInfo?.fat}g of fat</p>
                </div>}

                {item.nutInfo?.sugar > THRESHOLDS.SUGAR && <div className="item__badge item__badge--bad">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M195.769 958.413q-24.278 0-41.176-16.573-16.898-16.573-16.898-40.427V747.696q0-29.072 19.323-50.667 19.322-21.594 47.677-24.942h550.61q28.355 3.348 47.677 24.942 19.323 21.595 19.323 50.667v153.717q0 23.854-16.74 40.427-16.739 16.573-41.256 16.573h-568.54Zm36.926-353.326V484.413q0-32.72 22.79-55.36t55.211-22.64H440.5v-47q-16.5-12.478-25.75-25.446-9.25-12.967-9.25-36.182 0-14.958 4.869-27.722 4.87-12.764 16.507-24.526L480 193.652l53.889 52.003q11.872 11.519 16.242 24.31 4.369 12.791 4.369 27.776 0 23.259-9.25 36.226-9.25 12.968-25.75 25.446v47h130.804q32.008 0 54.504 22.79 22.497 22.79 22.497 55.21v120.674h-494.61Z"/></svg>
                    <p>{item.nutInfo?.sodium}g of sugar</p>
                </div>}
            </div>

            {item.nutInfo != null && <div className="item__macros">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="m583.826 198.587-36 312h213.217L410.217 953.413H344l48-264H203.957L517.87 198.587h65.956Z"/></svg>
                    <p>{item.nutInfo.kj}kj</p>
                </div>
                
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M480 963.131q-130.981 0-223.056-91.898Q164.869 779.336 164.869 648h630.262q0 131.587-92.075 223.359Q610.981 963.131 480 963.131ZM198.513 581.152q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.427 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717Zm185.261 0q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.427 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717Zm192.478 0q-14.709 0-25.426-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.464-10.717 25.174-10.717 14.709 0 25.426 10.465 10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.464 10.717-25.174 10.717Zm185.74 0q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.717 25.174-10.717t25.426 10.465q10.718 10.464 10.718 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717ZM285.383 481.087q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.426 10.465q10.718 10.465 10.718 25.174t-10.465 25.427q-10.465 10.717-25.174 10.717Zm197.739 0q-14.709 0-25.426-10.465-10.718-10.465-10.718-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.427 10.465q10.717 10.465 10.717 25.174t-10.465 25.427q-10.465 10.717-25.174 10.717Zm190.13 2.391q-14.709 0-25.426-10.465-10.717-10.464-10.717-25.174 0-14.709 10.465-25.426 10.465-10.717 25.174-10.717t25.426 10.465q10.717 10.464 10.717 25.174 0 14.709-10.465 25.426-10.465 10.717-25.174 10.717ZM384.013 381.5q-14.709 0-25.426-10.465-10.717-10.465-10.717-25.174t10.464-25.426q10.465-10.718 25.174-10.718t25.427 10.465q10.717 10.465 10.717 25.174t-10.465 25.427Q398.722 381.5 384.013 381.5Zm193.479 0q-14.709 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.718 25.174-10.718t25.426 10.465q10.717 10.465 10.717 25.174t-10.464 25.427Q592.201 381.5 577.492 381.5Zm-97.239-100.783q-14.71 0-25.427-10.465-10.717-10.465-10.717-25.174t10.465-25.426q10.465-10.717 25.173-10.717 14.71 0 25.427 10.465 10.717 10.464 10.717 25.173 0 14.709-10.465 25.427-10.465 10.717-25.173 10.717Z"/></svg>                    
                    <p>{item.nutInfo.sodium}mg</p>
                </div>

                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M195.769 958.413q-24.278 0-41.176-16.573-16.898-16.573-16.898-40.427V747.696q0-29.072 19.323-50.667 19.322-21.594 47.677-24.942h550.61q28.355 3.348 47.677 24.942 19.323 21.595 19.323 50.667v153.717q0 23.854-16.74 40.427-16.739 16.573-41.256 16.573h-568.54Zm36.926-353.326V484.413q0-32.72 22.79-55.36t55.211-22.64H440.5v-47q-16.5-12.478-25.75-25.446-9.25-12.967-9.25-36.182 0-14.958 4.869-27.722 4.87-12.764 16.507-24.526L480 193.652l53.889 52.003q11.872 11.519 16.242 24.31 4.369 12.791 4.369 27.776 0 23.259-9.25 36.226-9.25 12.968-25.75 25.446v47h130.804q32.008 0 54.504 22.79 22.497 22.79 22.497 55.21v120.674h-494.61Z"/></svg>
                    <p>{item.nutInfo.sugar}g</p>
                </div>

                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M44.587 698q0-58.1 24.5-101.8 24.5-43.7 64.906-72.7 40.406-29 91.5-43.25T328.587 466q52 0 103.094 14.25 51.093 14.25 91.382 43.35t64.906 72.45Q612.587 639.4 612.587 698h-568Zm647 315.41V698q0-124.543-77.533-204.543-77.532-80-195.358-99.022l-11.718-112.848h207.239v-141h86.413v141h214.783L832.27 957.048q-4.052 23.452-21.634 39.909-17.582 16.453-41.291 16.453h-77.758Zm-647-157.823v-84.174h568v84.174h-568Zm41.826 157.823q-18.063 0-29.945-11.88-11.881-11.88-11.881-29.943V929h568v42.587q0 18.063-11.762 29.943-11.762 11.88-29.825 11.88H86.413Z"/></svg>
                    <p>{item.nutInfo.fat}g</p>
                </div>

                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" width="20"><path d="M635.236 964.913q-43.388 0-87.812-17.945-44.424-17.946-79.642-47.403-24.804-20.065-36.858-25.358-12.054-5.294-23.053-5.294-64.339 0-122.018-26.228T185.348 772.62q-42.826-43.837-68.163-101.522Q91.848 613.413 91.087 549.5q3.478-165.63 85.141-264.022Q257.891 187.087 396 187.087q44.217 0 85.054 9.63 40.837 9.631 76.566 31 35.728 21.37 67.826 54.359 32.098 32.989 58.598 77.228 18 29.5 32.369 53.968 14.37 24.467 35.609 44.706 67.196 68.196 92.043 117.663 24.848 49.468 24.848 121.121 0 114.375-67.542 191.263t-166.135 76.888ZM480.025 693.5q48.975 0 83.225-33.775 34.25-33.776 34.25-83.75 0-48.975-34.275-83.225-34.275-34.25-83.25-34.25-49.975 0-83.725 34.275-33.75 34.275-33.75 83.25 0 49.975 33.775 83.725 33.776 33.75 83.75 33.75Z"/></svg>
                    <p>{item.nutInfo.protein}g</p>
                </div>
                
            </div>}
        </div>
    )
  }
  